{"ast":null,"code":"import { finalize } from 'rxjs/operators';\nimport { MovieDetailComponent } from '../movie-deatil/movie-detail.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../movies.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/cdk/scrolling\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/material/divider\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/progress-spinner\";\n\nfunction MoviesListTop10Component_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"mat-icon\", 7);\n    i0.ɵɵlistener(\"click\", function MoviesListTop10Component_div_2_Template_mat_icon_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const movie_r3 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.openDialog(movie_r3);\n    });\n    i0.ɵɵtext(11, \" remove_red_eye \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"mat-divider\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const movie_r3 = ctx.$implicit;\n    const index_r4 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", index_r4 + 1, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", movie_r3.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", movie_r3.year, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" $\", movie_r3.revenue, \" \");\n  }\n}\n\nfunction MoviesListTop10Component_mat_spinner_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\");\n  }\n}\n\nexport class MoviesListTop10Component {\n  constructor(moviesService, dialog) {\n    this.moviesService = moviesService;\n    this.dialog = dialog;\n    this.loading = false;\n  }\n\n  ngOnInit() {\n    this.loading = true;\n    this.movies$ = this.moviesService.getTop10MoviesByRevenue().pipe(finalize(() => {\n      this.loading = false;\n    }));\n  } // Dialog dimensions\n  // Height = Screen height - Navbar size - Top and Bottom margins on design document together\n  // Position, Starting from the top and offseting navbar and top margin = Navabar size + Top margin on document\n\n\n  openDialog(movie) {\n    const movieDetail$ = this.moviesService.getMoviesById(movie.id);\n    const movieDetailSubscription = movieDetail$.subscribe(movie => {\n      const dialogRef = this.dialog.open(MovieDetailComponent, {\n        maxHeight: 'calc(100vh - 50px - 42px)',\n        width: '750px',\n        ariaLabel: 'Movie information',\n        panelClass: 'dialog-box-movie-details',\n        position: {\n          top: '71px'\n        },\n        data: movie\n      });\n      dialogRef.afterClosed().subscribe(() => {\n        movieDetailSubscription.unsubscribe();\n      });\n    });\n  }\n\n  ngOnDestroy() {}\n\n}\n\nMoviesListTop10Component.ɵfac = function MoviesListTop10Component_Factory(t) {\n  return new (t || MoviesListTop10Component)(i0.ɵɵdirectiveInject(i1.MoviesService), i0.ɵɵdirectiveInject(i2.MatDialog));\n};\n\nMoviesListTop10Component.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MoviesListTop10Component,\n  selectors: [[\"app-movies-list-top10\"]],\n  decls: 5,\n  vars: 5,\n  consts: [[3, \"itemSize\"], [\"scroller\", \"\"], [\"class\", \"movie\", 4, \"cdkVirtualFor\", \"cdkVirtualForOf\"], [4, \"ngIf\"], [1, \"movie\"], [1, \"movie-grid\", \"info\"], [1, \"title\"], [\"aria-label\", \"See more\", 3, \"click\"]],\n  template: function MoviesListTop10Component_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"cdk-virtual-scroll-viewport\", 0, 1);\n      i0.ɵɵtemplate(2, MoviesListTop10Component_div_2_Template, 13, 4, \"div\", 2);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵtemplate(4, MoviesListTop10Component_mat_spinner_4_Template, 1, 0, \"mat-spinner\", 3);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"itemSize\", 50);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"cdkVirtualForOf\", i0.ɵɵpipeBind1(3, 3, ctx.movies$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n    }\n  },\n  directives: [i3.CdkVirtualScrollViewport, i3.CdkFixedSizeVirtualScroll, i3.CdkVirtualForOf, i4.MatIcon, i5.MatDivider, i6.NgIf, i7.MatSpinner],\n  pipes: [i6.AsyncPipe],\n  styles: [\".movie[_ngcontent-%COMP%] {\\n  height: 50px;\\n}\\n\\n.info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 16px;\\n}\\n\\n.info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] {\\n  justify-content: flex-start;\\n}\\n\\n.info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 13px;\\n  cursor: pointer;\\n}\\n\\n@media only screen and (max-width: 600px) {\\n  .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n    text-align: center;\\n    justify-content: center;\\n    font-size: 14px;\\n  }\\n  .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] {\\n    justify-content: center;\\n  }\\n}\\n\\nmat-icon[_ngcontent-%COMP%] {\\n  color: var(--color-icon);\\n}\\n\\nmat-icon[_ngcontent-%COMP%]:hover {\\n  color: var(--color-text);\\n  background: var(--color-hover-background);\\n}\\n\\n[_nghost-%COMP%] {\\n  height: 100%;\\n  margin-bottom: 50px;\\n}\\n\\ncdk-virtual-scroll-viewport[_ngcontent-%COMP%] {\\n  height: 100%;\\n  overflow-y: scroll;\\n}\\n\\n.movie-grid[_ngcontent-%COMP%] {\\n  height: 100%;\\n  width: 100%;\\n  display: grid;\\n  grid-template-columns: 1fr 3fr 1fr 1fr 1fr;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFxzaGFyZWRcXG1vdmllLnNjc3MiLCJtb3ZpZXMtbGlzdC10b3AxMC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQUE7QUNDRjs7QURHRTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtBQ0FKOztBREdFO0VBQ0UsMkJBQUE7QUNESjs7QURJRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQ0ZKOztBREtFO0VBQ0U7SUFDRSxrQkFBQTtJQUNBLHVCQUFBO0lBQ0EsZUFBQTtFQ0hKO0VETUU7SUFDRSx1QkFBQTtFQ0pKO0FBQ0Y7O0FEUUE7RUFDRSx3QkFBQTtBQ0xGOztBRE9FO0VBQ0Usd0JBQUE7RUFDQSx5Q0FBQTtBQ0xKOztBQXJDQTtFQUNFLFlBQUE7RUFDQSxtQkFBQTtBQXdDRjs7QUFyQ0E7RUFDRSxZQUFBO0VBQ0Esa0JBQUE7QUF3Q0Y7O0FBckNBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsMENBQUE7QUF3Q0YiLCJmaWxlIjoibW92aWVzLWxpc3QtdG9wMTAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubW92aWUge1xuICBoZWlnaHQ6IDUwcHg7XG59XG5cbi5pbmZvIHtcbiAgc3BhbiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgfVxuXG4gIC50aXRsZSB7XG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICB9XG5cbiAgbWF0LWljb24ge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjAwcHgpIHtcbiAgICBzcGFuIHtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgIH1cblxuICAgIC50aXRsZSB7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB9XG4gIH1cbn1cblxubWF0LWljb24ge1xuICBjb2xvcjogdmFyKC0tY29sb3ItaWNvbik7XG5cbiAgJjpob3ZlciB7XG4gICAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWhvdmVyLWJhY2tncm91bmQpO1xuICB9XG59XG4iLCIubW92aWUge1xuICBoZWlnaHQ6IDUwcHg7XG59XG5cbi5pbmZvIHNwYW4ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuLmluZm8gLnRpdGxlIHtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xufVxuLmluZm8gbWF0LWljb24ge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxM3B4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XG4gIC5pbmZvIHNwYW4ge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gIH1cbiAgLmluZm8gLnRpdGxlIHtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxufVxuXG5tYXQtaWNvbiB7XG4gIGNvbG9yOiB2YXIoLS1jb2xvci1pY29uKTtcbn1cbm1hdC1pY29uOmhvdmVyIHtcbiAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQpO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1ob3Zlci1iYWNrZ3JvdW5kKTtcbn1cblxuOmhvc3Qge1xuICBoZWlnaHQ6IDEwMCU7XG4gIG1hcmdpbi1ib3R0b206IDUwcHg7XG59XG5cbmNkay12aXJ0dWFsLXNjcm9sbC12aWV3cG9ydCB7XG4gIGhlaWdodDogMTAwJTtcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xufVxuXG4ubW92aWUtZ3JpZCB7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDNmciAxZnIgMWZyIDFmcjtcbn0iXX0= */\"]\n});","map":{"version":3,"sources":["C:/Users/diego/Desktop/prog/xpandit-fe_challenge/xpandit-challenge/src/app/movies-list-top10/movies-list-top10.component.ts"],"names":["finalize","MovieDetailComponent","i0","i1","i2","i3","i4","i5","i6","i7","MoviesListTop10Component_div_2_Template","rf","ctx","_r6","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","MoviesListTop10Component_div_2_Template_mat_icon_click_10_listener","restoredCtx","ɵɵrestoreView","movie_r3","$implicit","ctx_r5","ɵɵnextContext","openDialog","ɵɵelement","index_r4","index","ɵɵadvance","ɵɵtextInterpolate1","title","year","revenue","MoviesListTop10Component_mat_spinner_4_Template","MoviesListTop10Component","constructor","moviesService","dialog","loading","ngOnInit","movies$","getTop10MoviesByRevenue","pipe","movie","movieDetail$","getMoviesById","id","movieDetailSubscription","subscribe","dialogRef","open","maxHeight","width","ariaLabel","panelClass","position","top","data","afterClosed","unsubscribe","ngOnDestroy","ɵfac","MoviesListTop10Component_Factory","t","ɵɵdirectiveInject","MoviesService","MatDialog","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","MoviesListTop10Component_Template","ɵɵtemplate","ɵɵpipe","ɵɵproperty","ɵɵpipeBind1","directives","CdkVirtualScrollViewport","CdkFixedSizeVirtualScroll","CdkVirtualForOf","MatIcon","MatDivider","NgIf","MatSpinner","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { finalize } from 'rxjs/operators';\r\nimport { MovieDetailComponent } from '../movie-deatil/movie-detail.component';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../movies.service\";\r\nimport * as i2 from \"@angular/material/dialog\";\r\nimport * as i3 from \"@angular/cdk/scrolling\";\r\nimport * as i4 from \"@angular/material/icon\";\r\nimport * as i5 from \"@angular/material/divider\";\r\nimport * as i6 from \"@angular/common\";\r\nimport * as i7 from \"@angular/material/progress-spinner\";\r\nfunction MoviesListTop10Component_div_2_Template(rf, ctx) { if (rf & 1) {\r\n    const _r6 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 4);\r\n    i0.ɵɵelementStart(1, \"div\", 5);\r\n    i0.ɵɵelementStart(2, \"span\");\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"span\", 6);\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"span\");\r\n    i0.ɵɵtext(7);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"span\");\r\n    i0.ɵɵtext(9);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"mat-icon\", 7);\r\n    i0.ɵɵlistener(\"click\", function MoviesListTop10Component_div_2_Template_mat_icon_click_10_listener() { const restoredCtx = i0.ɵɵrestoreView(_r6); const movie_r3 = restoredCtx.$implicit; const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.openDialog(movie_r3); });\r\n    i0.ɵɵtext(11, \" remove_red_eye \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(12, \"mat-divider\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const movie_r3 = ctx.$implicit;\r\n    const index_r4 = ctx.index;\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\" \", index_r4 + 1, \" \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \", movie_r3.title, \" \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \", movie_r3.year, \" \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" $\", movie_r3.revenue, \" \");\r\n} }\r\nfunction MoviesListTop10Component_mat_spinner_4_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"mat-spinner\");\r\n} }\r\nexport class MoviesListTop10Component {\r\n    constructor(moviesService, dialog) {\r\n        this.moviesService = moviesService;\r\n        this.dialog = dialog;\r\n        this.loading = false;\r\n    }\r\n    ngOnInit() {\r\n        this.loading = true;\r\n        this.movies$ = this.moviesService.getTop10MoviesByRevenue()\r\n            .pipe(finalize(() => { this.loading = false; }));\r\n    }\r\n    // Dialog dimensions\r\n    // Height = Screen height - Navbar size - Top and Bottom margins on design document together\r\n    // Position, Starting from the top and offseting navbar and top margin = Navabar size + Top margin on document\r\n    openDialog(movie) {\r\n        const movieDetail$ = this.moviesService.getMoviesById(movie.id);\r\n        const movieDetailSubscription = movieDetail$.subscribe((movie) => {\r\n            const dialogRef = this.dialog.open(MovieDetailComponent, {\r\n                maxHeight: 'calc(100vh - 50px - 42px)',\r\n                width: '750px',\r\n                ariaLabel: 'Movie information',\r\n                panelClass: 'dialog-box-movie-details',\r\n                position: {\r\n                    top: '71px'\r\n                },\r\n                data: movie,\r\n            });\r\n            dialogRef.afterClosed().subscribe(() => {\r\n                movieDetailSubscription.unsubscribe();\r\n            });\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n    }\r\n}\r\nMoviesListTop10Component.ɵfac = function MoviesListTop10Component_Factory(t) { return new (t || MoviesListTop10Component)(i0.ɵɵdirectiveInject(i1.MoviesService), i0.ɵɵdirectiveInject(i2.MatDialog)); };\r\nMoviesListTop10Component.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: MoviesListTop10Component, selectors: [[\"app-movies-list-top10\"]], decls: 5, vars: 5, consts: [[3, \"itemSize\"], [\"scroller\", \"\"], [\"class\", \"movie\", 4, \"cdkVirtualFor\", \"cdkVirtualForOf\"], [4, \"ngIf\"], [1, \"movie\"], [1, \"movie-grid\", \"info\"], [1, \"title\"], [\"aria-label\", \"See more\", 3, \"click\"]], template: function MoviesListTop10Component_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"cdk-virtual-scroll-viewport\", 0, 1);\r\n        i0.ɵɵtemplate(2, MoviesListTop10Component_div_2_Template, 13, 4, \"div\", 2);\r\n        i0.ɵɵpipe(3, \"async\");\r\n        i0.ɵɵtemplate(4, MoviesListTop10Component_mat_spinner_4_Template, 1, 0, \"mat-spinner\", 3);\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"itemSize\", 50);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"cdkVirtualForOf\", i0.ɵɵpipeBind1(3, 3, ctx.movies$));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\r\n    } }, directives: [i3.CdkVirtualScrollViewport, i3.CdkFixedSizeVirtualScroll, i3.CdkVirtualForOf, i4.MatIcon, i5.MatDivider, i6.NgIf, i7.MatSpinner], pipes: [i6.AsyncPipe], styles: [\".movie[_ngcontent-%COMP%] {\\n  height: 50px;\\n}\\n\\n.info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 16px;\\n}\\n\\n.info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] {\\n  justify-content: flex-start;\\n}\\n\\n.info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 13px;\\n  cursor: pointer;\\n}\\n\\n@media only screen and (max-width: 600px) {\\n  .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n    text-align: center;\\n    justify-content: center;\\n    font-size: 14px;\\n  }\\n  .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] {\\n    justify-content: center;\\n  }\\n}\\n\\nmat-icon[_ngcontent-%COMP%] {\\n  color: var(--color-icon);\\n}\\n\\nmat-icon[_ngcontent-%COMP%]:hover {\\n  color: var(--color-text);\\n  background: var(--color-hover-background);\\n}\\n\\n[_nghost-%COMP%] {\\n  height: 100%;\\n  margin-bottom: 50px;\\n}\\n\\ncdk-virtual-scroll-viewport[_ngcontent-%COMP%] {\\n  height: 100%;\\n  overflow-y: scroll;\\n}\\n\\n.movie-grid[_ngcontent-%COMP%] {\\n  height: 100%;\\n  width: 100%;\\n  display: grid;\\n  grid-template-columns: 1fr 3fr 1fr 1fr 1fr;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFxzaGFyZWRcXG1vdmllLnNjc3MiLCJtb3ZpZXMtbGlzdC10b3AxMC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQUE7QUNDRjs7QURHRTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtBQ0FKOztBREdFO0VBQ0UsMkJBQUE7QUNESjs7QURJRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQ0ZKOztBREtFO0VBQ0U7SUFDRSxrQkFBQTtJQUNBLHVCQUFBO0lBQ0EsZUFBQTtFQ0hKO0VETUU7SUFDRSx1QkFBQTtFQ0pKO0FBQ0Y7O0FEUUE7RUFDRSx3QkFBQTtBQ0xGOztBRE9FO0VBQ0Usd0JBQUE7RUFDQSx5Q0FBQTtBQ0xKOztBQXJDQTtFQUNFLFlBQUE7RUFDQSxtQkFBQTtBQXdDRjs7QUFyQ0E7RUFDRSxZQUFBO0VBQ0Esa0JBQUE7QUF3Q0Y7O0FBckNBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsMENBQUE7QUF3Q0YiLCJmaWxlIjoibW92aWVzLWxpc3QtdG9wMTAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubW92aWUge1xuICBoZWlnaHQ6IDUwcHg7XG59XG5cbi5pbmZvIHtcbiAgc3BhbiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgfVxuXG4gIC50aXRsZSB7XG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICB9XG5cbiAgbWF0LWljb24ge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4gIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjAwcHgpIHtcbiAgICBzcGFuIHtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgIH1cblxuICAgIC50aXRsZSB7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB9XG4gIH1cbn1cblxubWF0LWljb24ge1xuICBjb2xvcjogdmFyKC0tY29sb3ItaWNvbik7XG5cbiAgJjpob3ZlciB7XG4gICAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWhvdmVyLWJhY2tncm91bmQpO1xuICB9XG59XG4iLCIubW92aWUge1xuICBoZWlnaHQ6IDUwcHg7XG59XG5cbi5pbmZvIHNwYW4ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuLmluZm8gLnRpdGxlIHtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xufVxuLmluZm8gbWF0LWljb24ge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxM3B4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XG4gIC5pbmZvIHNwYW4ge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gIH1cbiAgLmluZm8gLnRpdGxlIHtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxufVxuXG5tYXQtaWNvbiB7XG4gIGNvbG9yOiB2YXIoLS1jb2xvci1pY29uKTtcbn1cbm1hdC1pY29uOmhvdmVyIHtcbiAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQpO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1ob3Zlci1iYWNrZ3JvdW5kKTtcbn1cblxuOmhvc3Qge1xuICBoZWlnaHQ6IDEwMCU7XG4gIG1hcmdpbi1ib3R0b206IDUwcHg7XG59XG5cbmNkay12aXJ0dWFsLXNjcm9sbC12aWV3cG9ydCB7XG4gIGhlaWdodDogMTAwJTtcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xufVxuXG4ubW92aWUtZ3JpZCB7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDNmciAxZnIgMWZyIDFmcjtcbn0iXX0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}